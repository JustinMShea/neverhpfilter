<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>U.S. Stock Markets and CAPE Ratio — SP500 • neverhpfilter</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="U.S. Stock Markets and CAPE Ratio — SP500"><meta property="og:description" content="SP500 Robert Shiller's data set for U.S. Stock Markets 1871–2021 and CAPE Ratio."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">neverhpfilter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Getting-started.html">Getting started</a>
    </li>
    <li>
      <a href="../articles/Reproducing-Hamilton.html">Reproducing Hamilton</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/JustinMShea/neverhpfilter/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>U.S. Stock Markets and CAPE Ratio</h1>
    <small class="dont-index">Source: <a href="https://github.com/JustinMShea/neverhpfilter/blob/HEAD/R/SP500.R" class="external-link"><code>R/SP500.R</code></a></small>
    <div class="hidden name"><code>SP500.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>SP500</code> Robert Shiller's data set for U.S. Stock Markets 1871–2021 and CAPE Ratio.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">SP500</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="format">
    <h2>Format</h2>
    <p>An <code><a href="https://rdrr.io/pkg/xts/man/xts.html" class="external-link">xts</a></code> object containing observations of U.S. Stock Markets
1871–Present and CAPE Ratio.</p><dl><dt>**Frequency:**</dt>
<dd><p>Monthly</p></dd>

  <dt>**Date Range:**</dt>
<dd><p>1871-01 to 2023-09</p></dd>

  <dt>**SP500:**</dt>
<dd><p>Nominal prices of the S&amp;P composite index, April 2021 observation is 04/05 close</p></dd>

  <dt>**Dividends:**</dt>
<dd><p>Nominal dividends</p></dd>

  <dt>**Earnings:**</dt>
<dd><p>Nominal earnings, S&amp;P 500 estimated</p></dd>

  <dt>**CPI:**</dt>
<dd><p>Shiller's Consumer Price Index data used for transformation to real prices</p></dd>

  <dt>**GS10:**</dt>
<dd><p>Shiller's Long-term interest rate, 10-Year Treasury Constant Maturity Rate, April 2021 observation is 04/05 close</p></dd>

  <dt>**Real_SP500:**</dt>
<dd><p>Real prices of the S&amp;P 500 composite index</p></dd>

  <dt>**Real_Dividends:**</dt>
<dd><p>Real dividends</p></dd>

  <dt>**Real_SP500_TR:**</dt>
<dd><p>Real total return price of the S&amp;P 500 composite index</p></dd>

  <dt>**Real_Earnings:**</dt>
<dd><p>Real earnings</p></dd>

  <dt>**Real_Earnings_TR:**</dt>
<dd><p>Real total return scaled earnings</p></dd>

  <dt>**CAPE:**</dt>
<dd><p>Cyclically Adjusted Price Earnings Ratio (P/E10 or CAPE)</p></dd>

  <dt>**CAPE_TR:**</dt>
<dd><p>Cyclically Adjusted Total Return Price Earnings Ratio (P/E10_TR or CAPE_TR)</p></dd>

  <dt>**CAPE_Yield:**</dt>
<dd><p>Excess CAPE Yield</p></dd>

  <dt>**Bond_TR:**</dt>
<dd><p>Total bond returns</p></dd>

  <dt>**Real_Bond_TR:**</dt>
<dd><p>Real total bond returns</p></dd>


</dl></div>
    <div id="source">
    <h2>Source</h2>
    <p>Shiller, Robert J. *Irrational Exuberance*, Princeton University Press 2000,
Broadway Books 2001, 2nd ed. 2005, 3rd ed. 2015.
<a href="http://www.econ.yale.edu/~shiller/data.htm" class="external-link">http://www.econ.yale.edu/~shiller/data.htm</a></p>
<p>Download .xls file directly from here: <a href="http://www.econ.yale.edu/~shiller/data/ie_data.xls" class="external-link">http://www.econ.yale.edu/~shiller/data/ie_data.xls</a></p>
    </div>
    <div id="notes-from-shiller">
    <h2>Notes from Shiller</h2>


<p>This data set consists of monthly stock price, dividends, and earnings data and
the consumer price index (to allow conversion to real values), all starting
January 1871. The price, dividend, and earnings series are from the same sources
as described in Chapter 26 of my earlier book (Market Volatility, Cambridge,
MA: MIT Press, 1989), although now I use monthly data, rather than annual data.</p>
<p>Monthly dividend and earnings data are computed from the S&amp;P four-quarter totals
for the quarter since 1926, with linear interpolation to monthly figures. Dividend
and earnings data before 1926 are from Cowles and associates (Common Stock Indexes,
2nd ed., Bloomington, Ind.: Principia Press, 1939), interpolated from annual data.
Stock price data are monthly averages of daily closing prices.</p>
<p>The CPI-U (Consumer Price Index–All Urban Consumers) published by the U.S. Bureau
of Labor Statistics begins in 1913; for years before 1913, Shiller spliced
Warren and Pearson's price index by multiplying it by the ratio of the indexes
in January 1913. December 1999 and January 2000 values for the CPI-U are extrapolated.
See George F. Warren and Frank A. Pearson, *Gold and Prices* (New York: John Wiley
and Sons, 1935). Data are from their Table 1, pp. 11–14.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">SP500</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">SP500_qtr</span> <span class="op">&lt;-</span> <span class="fu">xts</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/xts/man/to.period.html" class="external-link">to.quarterly</a></span><span class="op">(</span><span class="va">SP500</span><span class="op">$</span><span class="va">SP500</span>, OHLC <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">log_SP500</span> <span class="op">&lt;-</span> <span class="fl">100</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">SP500_qtr</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">SP500_trend</span> <span class="op">&lt;-</span> <span class="fu"><a href="yth_filter.html">yth_filter</a></span><span class="op">(</span><span class="va">log_SP500</span>, h <span class="op">=</span> <span class="fl">8</span>, p <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>                          output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"trend"</span><span class="op">)</span>, family <span class="op">=</span> <span class="va">gaussian</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">main</span> <span class="op">&lt;-</span> <span class="st">"Log of SP500 and trend"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">SP500_trend</span>, grid.col <span class="op">=</span> <span class="st">"white"</span>, legend.loc <span class="op">=</span> <span class="st">"topleft"</span>, main <span class="op">=</span> <span class="va">main</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="SP500-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">SP500_cycle</span> <span class="op">&lt;-</span> <span class="fu"><a href="yth_filter.html">yth_filter</a></span><span class="op">(</span><span class="va">log_SP500</span><span class="op">[</span><span class="st">"1900/"</span><span class="op">]</span>, h <span class="op">=</span> <span class="fl">8</span>, p <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>                          output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cycle"</span>, <span class="st">"random"</span><span class="op">)</span>, family <span class="op">=</span> <span class="va">gaussian</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">main</span> <span class="op">&lt;-</span> <span class="st">"Log of SP500 cycle and random walk"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">SP500_cycle</span>, grid.col <span class="op">=</span> <span class="st">"white"</span>, legend.loc <span class="op">=</span> <span class="st">"topright"</span>, main <span class="op">=</span> <span class="va">main</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="SP500-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Justin M. Shea.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

